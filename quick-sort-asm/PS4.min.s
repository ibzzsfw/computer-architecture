ARRAY		DCD		85, 22, 79, 20, 1, 28, 45, 20, 6, 19, 94, 62, 38, 8, 50, 5, 13, 49, 57, 93
STACK		DCD		19, 0
		ADR		R10, STACK		
		MOV		R9, R10
		ADD		R10, R10, #4
QUICKSORT
		LDR		R1, [R10]
		SUB		R10, R10, #4
		LDR		R2, [R10]
		SUB		R10, R10, #4
		CMP		R1, R2
		BGE		END_QUICKSORT
		B		PARTITION
AFTER_PARTITION
		LDR		R11, [R10]
		SUB		R10, R10, #4
		ADD		R10, R10, #4
		STR		R2, [R10]
		ADD		R11, R11, #1
		ADD		R10, R10, #4
		STR		R11, [R10]	
		SUB		R11, R11, #2 
		ADD		R10, R10, #4
		STR		R11, [R10]
		ADD		R10, R10, #4
		STR		R1, [R10]
		B		QUICKSORT
END_QUICKSORT
		CMP		R10, R9
		BGE		QUICKSORT
		END
PARTITION
		LDR		R3, [R0, R2, LSL #2]
		MOV		R11, R1
		SUB		R11, R11, #1
		MOV		R12, R1
ITERATE
		CMP		R12, R2
		BGE		RETURN
		LDR		R5, [R0, R12, LSL #2]
		CMP		R5, R3
		BGE		INCREMENT
		ADD		R11, R11, #1
		LDR		R4, [R0, R11, LSL #2]
		STR		R4, [R0, R12, LSL #2]
		STR		R5, [R0, R11, LSL #2]
INCREMENT		
		ADD		R12, R12, #1
		B		ITERATE
RETURN
		ADD		R11, R11, #1
		LDR		R4, [R0, R11, LSL #2]
		LDR		R6, [R0, R2 , LSL #2]
		STR		R6, [R0, R11, LSL #2]
		STR		R4, [R0, R2 , LSL #2]
		ADD		R10, R10, #4
		STR		R11, [R10]
		B		AFTER_PARTITION 
